@import "../tokens/component";
@import "../tokens/core";
@import "../tokens/typography";
@import "../tokens/semantic";

.input-wrapper {
  // Layout
  display: inline-flex;
  flex-direction: column;
  gap: $space-1;

  // Label styling
  label {
    color: $input-label;
    font: $body-200-semi-bold;
  }

  // Help text styling
  .help-text {
    color: $input-help-text-default;
    font: $body-100-regular;
  }

  // Error state
  &.input--error {
    .help-text {
      color: $input-help-text-error;
    }

    .input-area {
      border-color: $input-border-error;
    }
  }
}

.input-area {
  // Layout
  display: inline-flex;
  overflow: hidden;
  align-items: center;
  box-sizing: border-box;

  &:not(&:has(textarea)) {
    height: $input-height;
  }

  // Styling
  border-radius: $input-radii;
  border: 1px solid $input-border-rest;
  color: $semantic-foreground-default;
  background-color: $input-background-rest;
  transition: all 0.2s ease-in-out;

  // Hover state
  .input-wrapper:not(.input--error) &:hover:not(&:has(input:disabled)) {
    border-color: $input-border-hover;
  }

  // Focused state
  .input-wrapper:not(.input--error) &:focus-within:not(&:has(input:disabled)) {
    border-color: $input-border-focused;
  }

  &:has(input:disabled, select:disabled, textarea:disabled) {
    opacity: 0.7;
    cursor: not-allowed;
    background-color: $input-background-disabled;
  }

  .prefix {
    // Layout
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0 $input-prefix-padding;

    // Styling
    border-right: 1px solid $input-prefix-border;
    color: $input-prefix-foreground;
    font: $body-100-semi-bold;
  }
}

.input-container {
  display: inline-flex;
  align-items: center;
  flex: 1;
  gap: $input-gap;
  padding: 0 $input-padding;

  &:has(textarea) {
    padding: $input-padding;
  }

  textarea {
    resize: vertical;
  }

  input,
  select,
  textarea {
    // Layout
    flex: 1;
    min-width: 0;
    padding: 0;

    // Styling
    font: $body-300-regular;
    color: $semantic-foreground-default;
    background: transparent;
    border: none !important;
    outline: none !important;

    &::placeholder {
      color: $input-placeholder;
    }

    &:disabled {
      cursor: not-allowed;
    }
  }
}
