@use "../tokens/component" as *;
@use "../tokens/core" as *;
@use "../tokens/semantic" as *;
@use "../tokens/shadows" as *;
@use "../tokens/typography" as *;
@use "../utils/transitions" as *;

.checkbox {
  display: inline-flex;
  cursor: pointer;
  gap: $checkbox-gap;
  align-items: center;

  input {
    appearance: none;
    margin: 0;
    position: absolute;

    &:disabled {
      & + .checkbox__box {
        background-color: $input-background-disabled;
        border-color: $input-border-rest;
      }

      & + .checkbox__box .checkbox__tick {
        color: $checkbox-checked-foreground-disabled;
      }
    }

    &:checked {
      & + .checkbox__box .checkbox__tick {
        display: block;
      }

      &:not(:disabled) + .checkbox__box {
        background-color: $checkbox-checked-background-rest;
        border-color: transparent;
      }
    }

    &:focus-visible {
      outline: none;

      & + .checkbox__box {
        outline: 4px auto highlight;
      }
    }
  }

  &:has(input:disabled) .checkbox__label {
    color: $checkbox-label-disabled;
  }

  &__box {
    @include create-transition(all, default);

    position: relative;
    width: $checkbox-width;
    height: $checkbox-width;
    box-sizing: border-box;
    flex-shrink: 0;

    background-color: $input-background-rest;
    border-radius: $semantic-radii-x-small;
    border: 1px solid $input-border-rest;
  }

  &:hover {
    .checkbox__box {
      border-color: $input-border-hover;
    }

    &:has(input:checked:not(:disabled)) .checkbox__box {
      background-color: $checkbox-checked-background-hover;
    }
  }

  &__tick {
    display: none;
    position: absolute;
    width: $checkbox-tick-width;
    height: $checkbox-tick-width;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    color: $checkbox-checked-foreground-default;
  }

  &__label {
    font: $body-200-medium;
    user-select: none;
  }
}
